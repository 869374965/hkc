(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{510:function(n,t,e){"use strict";e.r(t);var s=e(4),a=Object(s.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",[n._v("使用 git 提供的 hook 为 commit-msg message 添加前缀")])]),n._v(" "),e("p",[n._v("为了更好的版本管理，小组内制定了 commit message 的固定格式：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[n._v("[系统变更号]_分支名_作者_COMMIT_MESSAGE\n")])])]),e("p",[n._v("每次代码提交的时候，都需要将前缀部分复制过来。十分繁琐。")]),n._v(" "),e("p",[n._v("可以使用 git hook 来自动添加前缀")]),n._v(" "),e("p",[n._v("新增文件：【.git/hooks/commit-msg】")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[n._v('#!/bin/sh\n\n# 获取当前变更号\n\n# 每个分支都有独立且固定的系统变更号，所以此处以文件格式存放在代码目录\n\n# 合并的时候可能有冲突，处理一次就好\n\nversion=$(head -n +1 ./version)\n\n# 获取当前分支\n\nline=$(head -n +1 .git/HEAD)\n  branch=${line##*/}\n\n# 设置用户名\n\nname=黄克琛\ncommit=[${version}]_${branch}_${name}_$(cat $1)\n  echo "$commit" > "$1"\n')])])]),e("p",[n._v("项目根目录新增 version 文件，并写上版本号")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[n._v("ICP183306\n")])])]),e("p",[n._v("提交备注信息")]),n._v(" "),e("img",{attrs:{src:n.$withBase("/images/image7.png")}}),n._v(" "),e("comment"),n._v(" "),e("comment"),n._v(" "),e("comment")],1)}),[],!1,null,null,null);t.default=a.exports}}]);